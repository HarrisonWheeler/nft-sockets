import{u as h,s as v,v as y,c as l,a as f,o as e,b as s,d as o,t as d,x as b,y as w,z as D,g as k,F as x,q as S,p as j,m as C,A as I}from"./vendor.429513e6.js";import{_ as B,A as r,l as p,P as _,d as P}from"./index.4ccb6090.js";import{c as u}from"./CampaignsService.a5e76767.js";const A={setup(){const n=h(),a=v({});return y(async()=>{try{r.donations=[],r.campaign=null,await u.getCampaignById(n.params.id),await u.getDonationsByCampaignId(n.params.id)}catch(i){p.error(i),_.toast(i.message,"error")}}),{donation:a,campaign:l(()=>r.campaign),donations:l(()=>r.donations),account:l(()=>r.account),async createDonation(){try{a.value.campaignId=n.params.id,await P.createDonation(a.value),_.toast("Donation accepted","success"),a.value.amount=null}catch(i){p.error(i),_.toast(i.message,"error")}}}}},m=n=>(j("data-v-b5b21744"),n=n(),C(),n),M={class:"container-fluid"},N={key:0},V={class:"row justify-content-center p-2"},q={class:"col-md-7"},E={class:"bg-light shadow rounded p-2"},F={class:"d-flex mt-4 align-items-center"},L=["src","alt"],z={class:"ms-2"},G={class:"row justify-content-center mt-1 p-2"},R={class:"col-md-7"},T={class:"bg-light shadow form-control p-2"},U=m(()=>o("div",{class:"d-flex justify-content-end"},[o("button",{class:"btn btn-success mt-2 ms-auto"},"Donate")],-1)),H={class:"row justify-content-center mt-5 p-2"},J={class:"col-md-7"},K={class:"bg-light shadow rounded p-2"},O={key:0},Q={key:1},W=m(()=>o("h5",null,"No Donations currently.....",-1)),X=[W],Y={key:1},Z=m(()=>o("h1",null,"Loading...",-1)),$=[Z];function oo(n,a,i,t,to,ao){const g=f("Donation");return e(),s("div",M,[t.campaign?(e(),s("div",N,[o("div",V,[o("div",q,[o("div",E,[o("h1",null,d(t.campaign.title),1),o("p",null,d(t.campaign.description),1),o("h5",null,"Goal: $"+d(t.campaign.goal),1),o("div",F,[o("img",{src:t.campaign.creator.picture,alt:t.campaign.creator.picture},null,8,L),o("h6",z,d(t.campaign.creator.name),1)])])])]),o("div",G,[o("div",R,[t.account.id?(e(),s("form",{key:0,onSubmit:a[1]||(a[1]=b(c=>t.createDonation(),["prevent"]))},[o("div",T,[w(o("input",{type:"number",name:"amount",id:"amount",placeholder:"Enter Donation...",class:"form-control",required:"","onUpdate:modelValue":a[0]||(a[0]=c=>t.donation.amount=c),min:"100",step:"100"},null,512),[[D,t.donation.amount]]),U])],32)):k("",!0)])]),o("div",H,[o("div",J,[o("div",K,[t.donations.length>0?(e(),s("div",O,[(e(!0),s(x,null,S(t.donations,c=>(e(),I(g,{key:c.id,donation:c},null,8,["donation"]))),128))])):(e(),s("div",Q,X))])])])])):(e(),s("div",Y,$))])}var io=B(A,[["render",oo],["__scopeId","data-v-b5b21744"]]);export{io as default};
